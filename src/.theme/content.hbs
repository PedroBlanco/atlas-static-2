<template>
    <div class="content-window">
        <div class="container-fluid">
        {{#if frontMatter.youtube}}
            <div class="row">
                <div class="col-md-4">
                    <h4>{{frontMatter.title}}</h4>
                    <br>
                    <div>{{{content}}}</div>
                </div>
                <div class="col-md-8">            
                    <div class="video embed-responsive embed-responsive-16by9">
                        <iframe width=960 height=540 src="https://www.youtube.com/embed/{{frontMatter.youtube}}"
                        frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    {{#if frontMatter.tags}}
                    <div class="small">Etiquetas: <i>{{frontMatter.tags}}</i></div>
                    <br>
                    {{/if}}
                </div>
            </div>
        {{else}}
            <div class="col-md-12">
                <p>{{{content}}}</p>
                <div>
                    <h1>Mapa: {{frontMatter.title}}</h1>
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        {{#if frontMatter.URL }}
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="mapa-tab" data-toggle="tab" href="#mapa" role="tab" aria-controls="mapa" aria-selected="true">Fichas del Mapa</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="descripcion-tab" data-toggle="tab" href="#descripcion" role="tab" aria-controls="descripcion" aria-selected="false">Descripción</a>
                        </li>
                        {{else}}
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="descripcion-tab" data-toggle="tab" href="#descripcion" role="tab" aria-controls="descripcion" aria-selected="false">Descripción</a>
                        </li>
                        {{/if}}
                    {{!-- <li class="nav-item" role="presentation">
                        <a class="nav-link" id="metadatos-tab" data-toggle="tab" href="#metadatos" role="tab" aria-controls="metadatos" aria-selected="false">Metadatos</a>
                    </li> --}}
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        {{#if frontMatter.URL }}
                        <div class="tab-pane fade show active" id="mapa" role="tabpanel" aria-labelledby="mapa-tab">
                            <iframe title="Ficha del mapa {{frontMatter.title}}" src="{{frontMatter.URL}}?widget=true&headers=false&chrome=false" class="embedded-frame"></iframe>
                        </div>
                        <div class="tab-pane fade" id="descripcion" role="tabpanel" aria-labelledby="descripcion-tab">
                        {{else}}
                        <div class="tab-pane fade show active" id="descripcion" role="tabpanel" aria-labelledby="descripcion-tab">
                        {{/if}}
                            <div class="card">
                            <div class="card-body">
                            <p class="card-text lead">{{frontMatter.desc}}</p>
                            {{#unless frontMatter.URL }}
                            <p class="card-text text-muted">Este mapa no tiene fichas públicas <em>todavía</em>.</p>
                            {{else}}
                            <a href="{{frontMatter.URL}}" target="_blank" class="card-link">Enlace a las fichas de este mapa.</a>
                            {{/unless}}
                            <hr>
                            <h4 class="card-title">Metadatos</h4>
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th scope="col" align="center">
                                            Creación
                                        </th>
                                        <th scope="col" align="center">
                                            Actualización
                                        </th>
                                        <th>
                                            Administración
                                        </th>
                                        <th scope="col" align="center">
                                            Estado/fase de desarrollo
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td align="center">
                                            {{frontMatter.creation}}
                                        </td>
                                        <td align="center">
                                            {{frontMatter.update}}
                                        </td>
                                        <td>
                                            {{frontMatter.administration}}
                                        </td>
                                        <td align="center">
                                            {{frontMatter.phase}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                            </div>
                        </div>
                        {{!-- <div class="tab-pane fade" id="metadatos" role="tabpanel" aria-labelledby="metadatos-tab">
                        </div> --}}
                    </div>
                </div>
            </div>
        {{/if}}
        </div>
    </div>
</template>
